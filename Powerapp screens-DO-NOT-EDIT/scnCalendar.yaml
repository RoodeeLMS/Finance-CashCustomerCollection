Screens:
  scnCalendar:
    Properties:
      LoadingSpinnerColor: =RGBA(56, 96, 178, 1)
      OnVisible: |+
        =// Batch local variables with UpdateContext
        UpdateContext({
            currentScreen: "Calendar",
            _showMenu: false,
            _refreshTrigger: true,
            _isLoading: true,
            _dateSelected: Today(),
            _firstDayOfMonth: DateAdd(Today(), 1 - Day(Today()), TimeUnit.Days)
        });
        UpdateContext({
            _firstDayInView: DateAdd(_firstDayOfMonth, -(Weekday(_firstDayOfMonth) - 2 + 1), TimeUnit.Days),
            _lastDayOfMonth: DateAdd(DateAdd(_firstDayOfMonth, 1, TimeUnit.Months), -1, TimeUnit.Days)
        });

        UpdateContext({
            _isLoading: false
        });
    Children:
      - Calendar_Container:
          Control: GroupContainer@1.3.0
          Variant: ManualLayout
          Properties:
            Height: =Parent.Height
            Width: =Parent.Width
          Children:
            - BodyContainer1:
                Control: GroupContainer@1.3.0
                Variant: AutoLayout
                Properties:
                  DropShadow: =DropShadow.None
                  Height: =Parent.Height - 85
                  LayoutDirection: =LayoutDirection.Horizontal
                  LayoutGap: =16
                  PaddingBottom: =2
                  PaddingTop: =4
                  RadiusBottomLeft: =0
                  RadiusBottomRight: =0
                  RadiusTopLeft: =0
                  RadiusTopRight: =0
                  Width: |+
                    =Parent.Width - 20
                  X: =10
                  Y: =75
                Children:
                  - Container2:
                      Control: GroupContainer@1.3.0
                      Variant: ManualLayout
                      Properties:
                        FillPortions: =If(And(scnCalendar.Size = ScreenSize.Small, isDateSelected), 0, 3)
                        Visible: =If(And(scnCalendar.Size = ScreenSize.Small, isDateSelected), false, true)
                      Children:
                        - LblMonthSelected1_1:
                            Control: Label@2.5.1
                            Properties:
                              Align: =Align.Center
                              BorderColor: =RGBA(0, 0, 0, 1)
                              Font: =Font.'Open Sans'
                              Height: =50
                              Size: =14
                              Text: =Text(_firstDayOfMonth, "mmmm yyyy")
                              Width: =Parent.Width - 60
                              Wrap: =false
                        - iconPrevMonth1_1:
                            Control: Classic/Icon@2.5.0
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Color: =RGBA(0, 0, 0, 1)
                              Height: =50
                              Icon: =Icon.ChevronLeft
                              OnSelect: |-
                                =UpdateContext({
                                _firstDayOfMonth: DateAdd(_firstDayOfMonth, -1, TimeUnit.Months)
                                });
                                UpdateContext({
                                _firstDayInView: DateAdd(_firstDayOfMonth, -(Weekday(_firstDayOfMonth) - 2 + 1), TimeUnit.Days),
                                _lastDayOfMonth: DateAdd(DateAdd(_firstDayOfMonth, 1, TimeUnit.Months), -1, TimeUnit.Days)
                                });
                                If(_minDate > _firstDayOfMonth, UpdateContext({_minDate: _firstDayOfMonth}))
                              PaddingBottom: =10
                              PaddingLeft: =10
                              PaddingRight: =10
                              PaddingTop: =10
                              TabIndex: =0
                              Tooltip: ="View previous month"
                              Width: =50
                        - iconNextMonth1_1:
                            Control: Classic/Icon@2.5.0
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Color: =RGBA(0, 0, 0, 1)
                              Height: =50
                              Icon: =Icon.ChevronRight
                              OnSelect: |-
                                =UpdateContext({
                                _firstDayOfMonth: DateAdd(_firstDayOfMonth, 1, TimeUnit.Months)
                                });
                                UpdateContext({
                                _firstDayInView: DateAdd(_firstDayOfMonth, -(Weekday(_firstDayOfMonth) - 2 + 1), TimeUnit.Days),
                                _lastDayOfMonth: DateAdd(DateAdd(_firstDayOfMonth, 1, TimeUnit.Months), -1, TimeUnit.Days)
                                });
                                If(_lastDayOfMonth > _maxDate, UpdateContext({_maxDate: _lastDayOfMonth}))
                              PaddingBottom: =10
                              PaddingLeft: =10
                              PaddingRight: =10
                              PaddingTop: =10
                              TabIndex: =0
                              Tooltip: ="View next month"
                              Width: =50
                              X: =LblMonthSelected1_1.X + LblMonthSelected1_1.Width - 50
                        - WeekdayGallery1_1:
                            Control: Gallery@2.15.0
                            Variant: WeekdayGallery
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Height: =45
                              Items: =Calendar.WeekdaysShort()
                              TemplatePadding: =0
                              TemplateSize: =Self.Width / 7
                              Width: =Parent.Width
                              X: =0
                              Y: =60
                            Children:
                              - Title2_1:
                                  Control: Label@2.5.1
                                  Properties:
                                    Align: =Align.Center
                                    BorderColor: =RGBA(0, 0, 0, 1)
                                    Font: =Font.'Open Sans'
                                    Height: =WeekdayGallery1_1.TemplateHeight
                                    OnSelect: =Select(Parent)
                                    Size: =17 * WeekdayGallery1_1.TemplateWidth / 77
                                    Text: =ThisItem.Value
                                    Width: =WeekdayGallery1_1.TemplateWidth
                                    Wrap: =false
                                    X: =WeekdayGallery1_1.TemplateWidth / 2 - Self.Width / 2
                                    Y: =WeekdayGallery1_1.TemplateHeight / 2 - Self.Height / 2
                        - MonthDayGallery1_1:
                            Control: Gallery@2.15.0
                            Variant: MonthDayGallery
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Height: =425
                              Items: =[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19, 20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41]
                              TemplatePadding: =0
                              TemplateSize: =55
                              Width: =Parent.Width
                              X: =0
                              Y: =115
                            Children:
                              - Subcircle1_1:
                                  Control: Circle@2.3.0
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    Fill: =RGBA(56, 96, 178, 0.8)
                                    Height: =3 * Title3_1.Size
                                    OnSelect: =Select(Parent)
                                    Visible: =And(DateAdd(_firstDayInView, ThisItem.Value) = _dateSelected, Title3_1.Visible)
                                    Width: =Self.Height
                                    X: =MonthDayGallery1_1.TemplateWidth/2 - Self.Width/2
                                    Y: =MonthDayGallery1_1.TemplateHeight / 2 - Self.Height / 2
                              - Circle1_1:
                                  Control: Circle@2.3.0
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    Fill: =RGBA(215, 58, 60, 1)
                                    Height: =Self.Width
                                    OnSelect: =Select(Parent)
                                    Visible: |-
                                      =/*Visible if calendar events are found on this day*/               
                                      //CountRows(Filter(MyCalendarEvents, DateValue(Text(Start)) = DateAdd(_firstDayInView,ThisItem.Value, TimeUnit.Days))) > 0 && !Subcircle1_1.Visible && Title3_1.Visible
                                      CountRows(Filter(' [THFinanceCashCollection]CalendarEvents', 'Event Date' = DateAdd(_firstDayInView,ThisItem.Value, TimeUnit.Days))) > 0 && Title3_1.Visible
                                    Width: =6.5
                                    X: =MonthDayGallery1_1.TemplateWidth / 2 - Self.Width / 2
                                    Y: =MonthDayGallery1_1.TemplateHeight * (0.75)
                              - Title3_1:
                                  Control: Label@2.5.1
                                  Properties:
                                    Align: =Align.Center
                                    BorderColor: =RGBA(0, 0, 0, 0)
                                    Color: =If(DateAdd(_firstDayInView, ThisItem.Value) = _dateSelected, RGBA(255, 255, 255, 1), DateAdd(_firstDayInView, ThisItem.Value) = Today(), RGBA(47, 41, 43, 1), LblMonthSelected1_1.Color)
                                    Fill: |-
                                      =/*Fill value changes if the gallery item day = today, or if it lies outside of the current month*/             
                                      If(
                                          /*Date selected is today*/
                                          DateAdd(_firstDayInView, ThisItem.Value) = Today() && DateAdd(_firstDayInView, ThisItem.Value) = _dateSelected, RGBA(0,0,0,0),
                                          /*Today when it is not selected*/
                                          DateAdd(_firstDayInView, ThisItem.Value) = Today(), ColorFade(Subcircle1_1.Fill, 0.67), 
                                          /*The day is outside the range of the currently selected month*/
                                          Abs(Self.Text - ThisItem.Value) > 10,RGBA(200, 200, 200, 0.3), RGBA(0, 0, 0, 0))
                                    FocusedBorderColor: =Self.Color
                                    FocusedBorderThickness: =2
                                    Font: =Font.'Open Sans'
                                    Height: =MonthDayGallery1_1.TemplateHeight
                                    OnSelect: |-
                                      =UpdateContext({
                                          _dateSelected: DateAdd(_firstDayInView, ThisItem.Value, TimeUnit.Days), 
                                          isDateSelected: true,
                                          CurrentItem: Blank()
                                      });
                                      ResetForm(Form1)
                                    Size: =17 * MonthDayGallery1_1.TemplateWidth / 91
                                    TabIndex: =0
                                    Text: =Day(DateAdd(_firstDayInView,ThisItem.Value, TimeUnit.Days))
                                    Visible: |-
                                      =/*This item is in a row containing no days of the visible month. It is in the row after the row where the last day of the month occurs*/ 
                                       !(DateAdd(_firstDayInView,ThisItem.Value, TimeUnit.Days) - Weekday(DateAdd(_firstDayInView,ThisItem.Value, TimeUnit.Days)) + 1 > _lastDayOfMonth)
                                    Width: =MonthDayGallery1_1.TemplateWidth
                                    Wrap: =false
                        - LblResetToday1_1:
                            Control: Label@2.5.1
                            Properties:
                              Align: =Align.Center
                              BorderColor: =RGBA(0, 0, 0, 1)
                              Color: =iconCalendar1_1.Color
                              Font: =Font.'Open Sans'
                              FontWeight: =FontWeight.Bold
                              Height: =iconCalendar1_1.Height
                              PaddingTop: =12
                              Size: =11
                              Text: =DateDiff(Date(Year(Today()), Month(Today()), 1), Today(), TimeUnit.Days) + 1
                              Width: =iconCalendar1_1.Width
                              X: =Parent.Width - 50
                              Y: =5
                        - iconCalendar1_1:
                            Control: Classic/Icon@2.5.0
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              Color: =RGBA(0, 0, 0, 1)
                              Height: =40
                              Icon: =Icon.CalendarBlank
                              OnSelect: |-
                                =/*resets calendar view and date selection to today*/
                                UpdateContext({
                                    _dateSelected: Today(),
                                    _firstDayOfMonth: DateAdd(Today(), 1 - Day(Today()), TimeUnit.Days)
                                });
                                UpdateContext({
                                    _firstDayInView: DateAdd(_firstDayOfMonth, -(Weekday(_firstDayOfMonth) - 2 + 1), TimeUnit.Days),
                                    _lastDayOfMonth: DateAdd(DateAdd(_firstDayOfMonth, 1, TimeUnit.Months), -1, TimeUnit.Days)
                                });
                              TabIndex: =0
                              Tooltip: ="Reset selected date to today"
                              Width: =40
                              X: |+
                                =Parent.Width - 50
                              Y: =5
                  - DeleteConfirmDialogContainer1:
                      Control: GroupContainer@1.3.0
                      Variant: AutoLayout
                      Properties:
                        FillPortions: =7
                        LayoutDirection: =LayoutDirection.Vertical
                        Visible: =If(deleteMode, true, false)
                        Width: =0
                      Children:
                        - ConfirmDeleteLabelContainer1:
                            Control: GroupContainer@1.3.0
                            Variant: AutoLayout
                            Properties:
                              DropShadow: =DropShadow.None
                              LayoutAlignItems: =LayoutAlignItems.End
                              LayoutDirection: =LayoutDirection.Horizontal
                              PaddingBottom: =20
                              RadiusBottomLeft: =0
                              RadiusBottomRight: =0
                              RadiusTopLeft: =0
                              RadiusTopRight: =0
                            Children:
                              - TextCanvas2:
                                  Control: Text@0.0.51
                                  Properties:
                                    Align: ='TextCanvas.Align'.Center
                                    FillPortions: =1
                                    Size: =16
                                    Text: ="Are you sure you want to delete this record?"
                        - ConfirmDeleteButtonBarContainer1:
                            Control: GroupContainer@1.3.0
                            Variant: AutoLayout
                            Properties:
                              DropShadow: =DropShadow.None
                              LayoutDirection: =LayoutDirection.Horizontal
                              LayoutGap: =15
                              LayoutJustifyContent: =LayoutJustifyContent.Center
                              LayoutWrap: =true
                              RadiusBottomLeft: =0
                              RadiusBottomRight: =0
                              RadiusTopLeft: =0
                              RadiusTopRight: =0
                            Children:
                              - ConfirmDeleteButton1:
                                  Control: Button@0.0.45
                                  Properties:
                                    AccessibleLabel: ="Delete"
                                    OnSelect: |
                                      =Remove(
                                          ' [THFinanceCashCollection]CalendarEvents',
                                          selectedRecord
                                      );
                                      If(
                                          IsEmpty(
                                              Errors(
                                                  ' [THFinanceCashCollection]CalendarEvents',
                                                  selectedRecord
                                              )
                                          ),
                                          UpdateContext(
                                              {
                                                  CurrentItem: Blank(),
                                                  isItemSelected: false,
                                                  newMode: false,
                                                  deleteMode: false
                                              }
                                          );
                                          ResetForm(Form1);
                                      );
                                    Text: ="Delete"
                              - CancelDeleteButton1:
                                  Control: Button@0.0.45
                                  Properties:
                                    AccessibleLabel: ="Cancel"
                                    Appearance: ='ButtonCanvas.Appearance'.Secondary
                                    OnSelect: |-
                                      =UpdateContext({ deleteMode: false })
                                    Text: ="Cancel"
                  - RightContainer1:
                      Control: GroupContainer@1.3.0
                      Variant: AutoLayout
                      Properties:
                        DropShadow: =DropShadow.None
                        FillPortions: =7
                        LayoutAlignItems: =LayoutAlignItems.Stretch
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutGap: =16
                        PaddingBottom: =2
                        PaddingLeft: =2
                        PaddingRight: =2
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Visible: =If(Or(deleteMode, And(scnCalendar.Size = ScreenSize.Small, !isDateSelected)), false, true)
                        Width: =0
                      Children:
                        - Container1:
                            Control: GroupContainer@1.3.0
                            Variant: AutoLayout
                            Properties:
                              FillPortions: =0
                              LayoutDirection: =LayoutDirection.Vertical
                              LayoutMinHeight: =80
                              LayoutMinWidth: =200
                            Children:
                              - Container3:
                                  Control: GroupContainer@1.3.0
                                  Variant: AutoLayout
                                  Properties:
                                    Fill: =RGBA(245, 245, 245, 1)
                                    FillPortions: =0
                                    Height: =50
                                    LayoutDirection: =LayoutDirection.Horizontal
                                    LayoutMinWidth: =100
                                  Children:
                                    - BackIcon1:
                                        Control: Button@0.0.45
                                        Properties:
                                          AlignInContainer: =AlignInContainer.Center
                                          Appearance: ='ButtonCanvas.Appearance'.Transparent
                                          Icon: ="ArrowLeft"
                                          Layout: ='ButtonCanvas.Layout'.IconBefore
                                          OnSelect: |-
                                            =ResetForm(Form1); UpdateContext({ newMode: false, editMode: false, CurrentItem: Blank(), isItemSelected:false, isDateSelected:false });
                                          Text: ="Back"
                                          Visible: =If(And(scnCalendar.Size = ScreenSize.Small, !deleteMode), true, false)
                                          Width: =If(scnCalendar.Size = ScreenSize.Small, 75, 96)
                                    - LblDateSelected1_1:
                                        Control: Label@2.5.1
                                        Properties:
                                          BorderColor: =RGBA(0, 0, 0, 1)
                                          Font: =Font.'Open Sans'
                                          Height: =50
                                          PaddingLeft: =15
                                          PaddingRight: =15
                                          Size: =12
                                          Text: =Text(_dateSelected, DateTimeFormat.LongDate)
                                          Width: =Parent.Width
                                          Wrap: =false
                                          X: =451
                                          Y: =50
                              - CalendarEventsGallery1_1:
                                  Control: Gallery@2.15.0
                                  Variant: BrowseLayout_Vertical_OneTextVariant_ver5.0
                                  Properties:
                                    AccessibleLabel: ="Calendar events for selected day"
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    Height: =Parent.Height - Self.Y
                                    Items: |+
                                      =SortByColumns(Filter(' [THFinanceCashCollection]CalendarEvents', 'Event Date' = _dateSelected), "nc_eventdate", SortOrder.Descending)
                                    LayoutMinHeight: =50
                                    LayoutMinWidth: =
                                    OnSelect: |-
                                      =UpdateContext({ isItemSelected: true, newMode: false, CurrentItem:CalendarEventsGallery1_1.Selected })
                                    ShowScrollbar: =false
                                    TemplateSize: =50
                                    Width: =Parent.Width - Self.X
                                    X: =422
                                    Y: =
                                  Children:
                                    - Rectangle1:
                                        Control: Rectangle@2.3.0
                                        Properties:
                                          BorderColor: =RGBA(0, 18, 107, 1)
                                          Fill: =RGBA(238, 238, 238, 1)
                                          Height: =Parent.TemplateHeight - Separator3.Height
                                          OnSelect: =Select(Parent)
                                          Visible: =ThisItem.' [THFinanceCashCollection]CalendarEvent' = CurrentItem.' [THFinanceCashCollection]CalendarEvent'
                                          Width: =Parent.Width
                                    - Title1:
                                        Control: Label@2.5.1
                                        Properties:
                                          BorderColor: =RGBA(0, 0, 0, 1)
                                          Color: =RGBA(50, 49, 48, 1)
                                          Font: =Font.'Open Sans'
                                          Height: =Self.Size * 1.8
                                          OnSelect: =Select(Parent)
                                          PaddingBottom: =0
                                          PaddingLeft: =0
                                          PaddingRight: =0
                                          PaddingTop: =0
                                          Size: =12
                                          Text: =ThisItem.Description
                                          VerticalAlign: =VerticalAlign.Top
                                          Width: =Parent.TemplateWidth - 86
                                          X: =40
                                          Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
                                    - Separator3:
                                        Control: Rectangle@2.3.0
                                        Properties:
                                          BorderColor: =RGBA(0, 18, 107, 1)
                                          Fill: =RGBA(136, 136, 136, 1)
                                          Height: =1
                                          OnSelect: =Select(Parent)
                                          Width: =Parent.TemplateWidth
                                          Y: =Parent.TemplateHeight - Self.Height
                                    - Icon1:
                                        Control: Classic/Icon@2.5.0
                                        Properties:
                                          BorderColor: =RGBA(0, 18, 107, 1)
                                          Color: =RGBA(128, 128, 128, 1)
                                          Height: =20
                                          Icon: =Icon.CalendarBlank
                                          Width: =20
                                          X: =10
                                          Y: =13
                        - MainContainer1:
                            Control: GroupContainer@1.3.0
                            Variant: AutoLayout
                            Properties:
                              Fill: =RGBA(255, 255, 255, 1)
                              LayoutDirection: =LayoutDirection.Vertical
                              LayoutGap: =16
                              LayoutMinHeight: =150
                              LayoutMinWidth: =300
                              LayoutOverflowY: =LayoutOverflow.Scroll
                            Children:
                              - Container21:
                                  Control: GroupContainer@1.3.0
                                  Variant: AutoLayout
                                  Properties:
                                    DropShadow: =DropShadow.None
                                    Fill: =RGBA(245, 245, 245, 1)
                                    FillPortions: =0
                                    Height: =50
                                    LayoutDirection: =LayoutDirection.Horizontal
                                    LayoutGap: =10
                                    LayoutMinHeight: =60
                                    PaddingLeft: =If(scnCalendar.Size = ScreenSize.Small,8,12)
                                    RadiusBottomLeft: =0
                                    RadiusBottomRight: =0
                                    RadiusTopLeft: =0
                                    RadiusTopRight: =0
                                    X: =40
                                    Y: =40
                                  Children:
                                    - NewRecordButton1:
                                        Control: Button@0.0.45
                                        Properties:
                                          AlignInContainer: =AlignInContainer.Center
                                          Appearance: ='ButtonCanvas.Appearance'.Primary
                                          Icon: ="Add"
                                          OnSelect: |-
                                            =NewForm(Form1); UpdateContext({ newMode: true })
                                          Text: ="New"
                                          Visible: =And(!newMode, !deleteMode)
                                          Width: |+
                                            =100
                                    - EditButton1:
                                        Control: Button@0.0.45
                                        Properties:
                                          AlignInContainer: =AlignInContainer.Center
                                          Appearance: ='ButtonCanvas.Appearance'.Primary
                                          BasePaletteColor: =RGBA(100, 81, 61, 1)
                                          DisplayMode: =If (IsBlank(CurrentItem), DisplayMode.Disabled, DisplayMode.Edit)
                                          Icon: ="Edit"
                                          OnSelect: |-
                                            =UpdateContext({ editMode: true, selectedRecord: CurrentItem })
                                          Text: ="Edit"
                                          Visible: =And(!newMode, !deleteMode)
                                          Width: |+
                                            =80
                                    - DeleteButton1:
                                        Control: Button@0.0.45
                                        Properties:
                                          AlignInContainer: =AlignInContainer.Center
                                          Appearance: ='ButtonCanvas.Appearance'.Primary
                                          BasePaletteColor: =RGBA(191, 25, 34, 1)
                                          DisplayMode: =If (IsBlank(CurrentItem), DisplayMode.Disabled, DisplayMode.Edit)
                                          Icon: ="Delete"
                                          OnSelect: |-
                                            =UpdateContext({ deleteMode: true, selectedRecord: CurrentItem })
                                          Text: ="Delete"
                                          Visible: =And(!newMode, !deleteMode)
                                          Width: |+
                                            =90
                              - Form1:
                                  Control: Form@2.4.4
                                  Layout: Vertical
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    BorderStyle: =BorderStyle.None
                                    DataSource: =' [THFinanceCashCollection]CalendarEvents'
                                    DefaultMode: =If(newMode, FormMode.New, editMode, FormMode.Edit, FormMode.View)
                                    Item: =CurrentItem
                                    LayoutMinHeight: =100
                                    LayoutMinWidth: =300
                                    NumberOfColumns: =1
                                    OnFailure: =Notify("Cannot save. Please check if there are errors in the form.", NotificationType.Error)
                                    OnSuccess: |
                                      =UpdateContext({ CurrentItem: Self.LastSubmit, newMode:false, editMode: false, isItemSelected: false});Notify("Success",NotificationType.Success);ResetForm(Form1)
                                    Width: =Parent.Width
                                  Children:
                                    - Description_DataCard1:
                                        Control: TypedDataCard@1.0.7
                                        Variant: TextualEdit
                                        IsLocked: true
                                        Properties:
                                          BorderColor: =RGBA(0, 18, 107, 1)
                                          DataField: ="nc_description"
                                          Default: =ThisItem.Description
                                          DisplayName: =DataSourceInfo([@' [THFinanceCashCollection]CalendarEvents'],DataSourceInfo.DisplayName,'nc_description')
                                          MaxLength: =DataSourceInfo([@' [THFinanceCashCollection]CalendarEvents'], DataSourceInfo.MaxLength, 'nc_description')
                                          Required: =true
                                          Update: =DataCardValue1.Value
                                          Width: =927
                                          X: =0
                                          Y: =0
                                        Children:
                                          - DataCardKey1:
                                              Control: Text@0.0.51
                                              MetadataKey: FieldName
                                              Properties:
                                                Height: =22
                                                Text: =Parent.DisplayName
                                                Weight: ='TextCanvas.Weight'.Semibold
                                                Width: =Parent.Width - 48
                                                Wrap: =false
                                                X: =24
                                                Y: =10
                                          - DataCardValue1:
                                              Control: TextInput@0.0.54
                                              MetadataKey: FieldValue
                                              Properties:
                                                AccessibleLabel: =Parent.DisplayName
                                                DisplayMode: =Parent.DisplayMode
                                                Mode: ="'TextInputCanvas.Mode'.TextInputModeSingleLine"
                                                Required: =Parent.Required
                                                ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                                Value: =Parent.Default
                                                Width: =Parent.Width - 48
                                                X: =24
                                                Y: =DataCardKey1.Y + DataCardKey1.Height + 4
                                          - ErrorMessage1:
                                              Control: Text@0.0.51
                                              MetadataKey: ErrorMessage
                                              Properties:
                                                Height: =30
                                                Text: =Parent.Error
                                                Visible: =And(!IsBlank(Parent.Error), Parent.DisplayMode=DisplayMode.Edit)
                                                Width: =Parent.Width - 48
                                                X: =24
                                                Y: =DataCardValue1.Y + DataCardValue1.Height
                                          - StarVisible1:
                                              Control: Text@0.0.51
                                              MetadataKey: FieldRequired
                                              Properties:
                                                Align: ='TextCanvas.Align'.Center
                                                Height: =30
                                                Text: ="*"
                                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                                Width: =30
                                                Y: =DataCardKey1.Y
                                    - Event Date_DataCard1:
                                        Control: TypedDataCard@1.0.7
                                        Variant: DateTimeEdit
                                        Properties:
                                          BorderColor: =RGBA(0, 18, 107, 1)
                                          DataField: ="nc_eventdate"
                                          Default: =_dateSelected
                                          DisplayMode: =DisplayMode.Disabled
                                          DisplayName: =DataSourceInfo([@' [THFinanceCashCollection]CalendarEvents'],DataSourceInfo.DisplayName,'nc_eventdate')
                                          Required: =false
                                          Update: =DateValue1.SelectedDate
                                          Width: =927
                                          X: =0
                                          Y: =1
                                        Children:
                                          - DataCardKey3:
                                              Control: Text@0.0.51
                                              MetadataKey: FieldName
                                              Properties:
                                                Height: =22
                                                Text: =Parent.DisplayName
                                                Weight: ='TextCanvas.Weight'.Semibold
                                                Width: =Parent.Width - 48
                                                Wrap: =false
                                                X: =24
                                                Y: =10
                                          - DateValue1:
                                              Control: DatePicker@0.0.46
                                              MetadataKey: DateFieldValue
                                              Properties:
                                                AccessibleLabel: =Parent.DisplayName
                                                DisplayMode: =Parent.DisplayMode
                                                SelectedDate: =Parent.Default
                                                ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                                Width: =Parent.Width - 48
                                                X: =24
                                                Y: =DataCardKey3.Y + DataCardKey3.Height + 4
                                          - ErrorMessage2:
                                              Control: Text@0.0.51
                                              MetadataKey: ErrorMessage
                                              Properties:
                                                Height: =30
                                                Text: =Parent.Error
                                                Visible: =And(!IsBlank(Parent.Error), Parent.DisplayMode=DisplayMode.Edit)
                                                Width: =Parent.Width - 48
                                                X: =24
                                                Y: =DateValue1.Y + DateValue1.Height
                                          - StarVisible2:
                                              Control: Text@0.0.51
                                              MetadataKey: FieldRequired
                                              Properties:
                                                Align: ='TextCanvas.Align'.Center
                                                Height: =20
                                                Text: ="*"
                                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                                Width: =30
                                                Y: =DataCardKey3.Y
                              - ButtonContainer1:
                                  Control: GroupContainer@1.3.0
                                  Variant: AutoLayout
                                  Properties:
                                    DropShadow: =DropShadow.None
                                    FillPortions: =0
                                    Height: |+
                                      =50
                                    LayoutAlignItems: =LayoutAlignItems.Center
                                    LayoutDirection: =LayoutDirection.Horizontal
                                    LayoutGap: =10
                                    LayoutJustifyContent: =LayoutJustifyContent.End
                                    LayoutMinHeight: =50
                                    LayoutOverflowY: =LayoutOverflow.Scroll
                                    PaddingRight: =24
                                    RadiusBottomLeft: =0
                                    RadiusBottomRight: =0
                                    RadiusTopLeft: =0
                                    RadiusTopRight: =0
                                  Children:
                                    - CancelButton1:
                                        Control: Button@0.0.45
                                        Properties:
                                          Appearance: ='ButtonCanvas.Appearance'.Secondary
                                          OnSelect: |-
                                            =ResetForm(Form1); UpdateContext({ newMode: false, editMode: false, CurrentItem: CalendarEventsGallery1_1.Selected, isItemSelected:false });
                                          Text: ="Cancel"
                                          Visible: =Or(newMode, editMode)
                                    - SubmitButton1:
                                        Control: Button@0.0.45
                                        Properties:
                                          Appearance: ='ButtonCanvas.Appearance'.Primary
                                          OnSelect: =SubmitForm(Form1)
                                          Text: ="Submit"
                                          Visible: =Or(newMode, editMode)
            - Calendar_Header:
                Control: GroupContainer@1.3.0
                Variant: AutoLayout
                Properties:
                  DropShadow: =DropShadow.Regular
                  Fill: =RGBA(0, 101, 161, 1)
                  Height: =55
                  LayoutAlignItems: =LayoutAlignItems.Center
                  LayoutDirection: =LayoutDirection.Horizontal
                  PaddingLeft: =15
                  RadiusBottomLeft: =8
                  RadiusBottomRight: =8
                  RadiusTopLeft: =8
                  RadiusTopRight: =8
                  Width: =Parent.Width - 20
                  X: =10
                  Y: =10
                Children:
                  - Calendar_MenuIcon:
                      Control: Classic/Icon@2.5.0
                      Properties:
                        Color: =RGBA(255, 255, 255, 1)
                        Height: =50
                        Icon: =Icon.Hamburger
                        OnSelect: |-
                          =UpdateContext({_showMenu: !_showMenu})
                        PaddingBottom: =10
                        PaddingLeft: =10
                        PaddingRight: =10
                        PaddingTop: =10
                        Width: =50
                  - Calendar_HeaderTitle:
                      Control: Text@0.0.51
                      Properties:
                        Font: =Font.Lato
                        FontColor: =Color.White
                        Height: =50
                        PaddingLeft: =20
                        Size: =25
                        Text: ="Calendar"
                        VerticalAlign: =VerticalAlign.Middle
                        Weight: ='TextCanvas.Weight'.Medium
                        Width: =Parent.Width - Calendar_MenuIcon.Width - 40
            - Calendar_NavigationMenu:
                Control: CanvasComponent
                ComponentName: NavigationMenu
                Properties:
                  Fill: =RGBA(255, 255, 255, 0.5)
                  Height: =Parent.Height - 70
                  Visible: =If(_showMenu, true, false)
                  Width: =260
                  Y: =70
                  navItems: =Navigation
                  navSelected: =currentScreen
