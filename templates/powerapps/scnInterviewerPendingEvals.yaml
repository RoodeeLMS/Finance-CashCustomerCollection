Screens:
  scnInterviewerPendingEvals:
    Properties:
      Fill: =RGBA(243, 242, 241, 1)
      LoadingSpinnerColor: =RGBA(0, 101, 161, 1)
      OnVisible: |-
        =// Set current screen for navigation
        UpdateContext({currentScreen: "My Evaluations"});
        Set(_showMenu, false);

        // Initialize language if not set
        If(IsBlank(gblLanguage), Set(gblLanguage, "EN"));

        // Load all evaluations for current user
        ClearCollect(
            colMyEvaluations,
            Filter(
                '[THInterviewEval]InterviewEvaluations',
                InterviewerEmail = User().Email
            )
        )
    Children:
      - PendEval_Container:
          Control: GroupContainer@1.3.0
          Variant: ManualLayout
          Properties:
            DropShadow: =DropShadow.None
            Height: =Parent.Height
            Width: =Parent.Width
          Children:
            - PendEval_Header:
                Control: GroupContainer@1.3.0
                Variant: AutoLayout
                Properties:
                  DropShadow: =DropShadow.Regular
                  Fill: =RGBA(0, 101, 161, 1)
                  Height: =55
                  LayoutAlignItems: =LayoutAlignItems.Center
                  LayoutDirection: =LayoutDirection.Horizontal
                  PaddingLeft: =15
                  RadiusBottomLeft: =8
                  RadiusBottomRight: =8
                  RadiusTopLeft: =8
                  RadiusTopRight: =8
                  Width: =Parent.Width - 20
                  X: =10
                  Y: =10
                Children:
                  - PendEval_MenuIcon:
                      Control: Classic/Icon@2.5.0
                      Properties:
                        Color: =RGBA(255, 255, 255, 1)
                        Height: =50
                        Icon: =Icon.Hamburger
                        OnSelect: =Set(_showMenu, !_showMenu)
                        PaddingBottom: =10
                        PaddingLeft: =10
                        PaddingRight: =10
                        PaddingTop: =10
                        Width: =50
                  - PendEval_HeaderTitle:
                      Control: Text@0.0.51
                      Properties:
                        Font: =Font.Lato
                        FontColor: =Color.White
                        Height: =50
                        PaddingLeft: =20
                        Size: =25
                        Text: =If(gblLanguage = "EN", "My Evaluations", "การประเมินของฉัน")
                        VerticalAlign: =VerticalAlign.Middle
                        Weight: ='TextCanvas.Weight'.Medium
                        Width: =Parent.Width - PendEval_MenuIcon.Width - PendEval_LanguageToggle.Width - 40
                  - PendEval_LanguageToggle:
                      Control: Button@0.0.45
                      Properties:
                        BasePaletteColor: =RGBA(255, 255, 255, 1)
                        Height: =35
                        OnSelect: =Set(gblLanguage, If(gblLanguage = "EN", "TH", "EN"))
                        Text: =If(gblLanguage = "EN", "ภาษาไทย", "English")
                        Width: =120
            - PendEval_Content:
                Control: GroupContainer@1.3.0
                Variant: ManualLayout
                Properties:
                  DropShadow: =DropShadow.Regular
                  Fill: =RGBA(255, 255, 255, 1)
                  Height: =Parent.Height - 85
                  RadiusBottomLeft: =10
                  RadiusBottomRight: =10
                  RadiusTopLeft: =10
                  RadiusTopRight: =10
                  Width: =Parent.Width - 20
                  X: =10
                  Y: =75
                Children:
                  - PendEval_TitleSection:
                      Control: GroupContainer@1.3.0
                      Variant: AutoLayout
                      Properties:
                        DropShadow: =DropShadow.None
                        Height: =90
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutGap: =8
                        PaddingBottom: =15
                        PaddingLeft: =30
                        PaddingRight: =30
                        PaddingTop: =15
                        Width: =Parent.Width
                      Children:
                        - PendEval_Title:
                            Control: Text@0.0.51
                            Properties:
                              AutoHeight: =true
                              Font: =Font.Lato
                              FontColor: =RGBA(0, 101, 161, 1)
                              Size: =20
                              Text: |-
                                =If(
                                    gblLanguage = "EN",
                                    "My Evaluations (" & CountRows(colMyEvaluations) & ")",
                                    "การประเมินของฉัน (" & CountRows(colMyEvaluations) & ")"
                                )
                              Weight: ='TextCanvas.Weight'.Semibold
                              Width: =Parent.Width - 60
                        - PendEval_Subtitle:
                            Control: Text@0.0.51
                            Properties:
                              AutoHeight: =true
                              Font: =Font.Lato
                              FontColor: =RGBA(100, 100, 100, 1)
                              Text: |-
                                =If(
                                    gblLanguage = "EN",
                                    "View, continue, or complete your assigned evaluations",
                                    "ดู ดำเนินการต่อ หรือทำการประเมินที่ได้รับมอบหมาย"
                                )
                              Width: =Parent.Width - 60
                  - PendEval_Gallery:
                      Control: Gallery@2.15.0
                      Variant: Vertical
                      Properties:
                        Height: =Parent.Height - PendEval_TitleSection.Height - 40
                        Items: =colMyEvaluations
                        TemplatePadding: =0
                        TemplateSize: =140
                        Width: =Parent.Width - 40
                        X: =20
                        Y: =PendEval_TitleSection.Height + 20
                      Children:
                        - PendEval_GalleryContainer:
                            Control: GroupContainer@1.3.0
                            Variant: AutoLayout
                            Properties:
                              DropShadow: =DropShadow.Regular
                              Fill: =RGBA(255, 255, 255, 1)
                              Height: =130
                              LayoutDirection: =LayoutDirection.Vertical
                              LayoutGap: =8
                              PaddingBottom: =15
                              PaddingLeft: =20
                              PaddingRight: =20
                              PaddingTop: =15
                              RadiusBottomLeft: =8
                              RadiusBottomRight: =8
                              RadiusTopLeft: =8
                              RadiusTopRight: =8
                              Width: =Parent.TemplateWidth - 10
                            Children:
                              - PendEval_TopRow:
                                  Control: GroupContainer@1.3.0
                                  Variant: AutoLayout
                                  Properties:
                                    DropShadow: =DropShadow.None
                                    LayoutAlignItems: =LayoutAlignItems.Center
                                    LayoutDirection: =LayoutDirection.Horizontal
                                    LayoutGap: =15
                                    LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                                    LayoutMinHeight: =30
                                    LayoutMinWidth: =100
                                    Width: =Parent.Width - 40
                                  Children:
                                    - PendEval_CandidateName:
                                        Control: Text@0.0.51
                                        Properties:
                                          AutoHeight: =true
                                          FillPortions: =1
                                          Font: =Font.Lato
                                          FontColor: =RGBA(0, 101, 161, 1)
                                          Size: =16
                                          Text: |-
                                            =If(
                                                gblLanguage = "EN",
                                                ThisItem.Candidate.FirstName & " " & ThisItem.Candidate.LastName,
                                                ThisItem.Candidate.FirstNameTH & " " & ThisItem.Candidate.LastNameTH
                                            )
                                          Weight: ='TextCanvas.Weight'.Semibold
                                    - PendEval_StatusBadge:
                                        Control: GroupContainer@1.3.0
                                        Variant: AutoLayout
                                        Properties:
                                          DropShadow: =DropShadow.None
                                          Fill: |-
                                            =Switch(
                                                ThisItem.'Status (cr76f_status)',
                                                "Draft", RGBA(255, 165, 0, 0.2),
                                                "Deferred", RGBA(255, 140, 0, 0.2),
                                                "Submitted", RGBA(0, 150, 0, 0.2),
                                                RGBA(100, 100, 100, 0.2)
                                            )
                                          FillPortions: =0
                                          LayoutAlignItems: =LayoutAlignItems.Center
                                          LayoutDirection: =LayoutDirection.Horizontal
                                          LayoutMinHeight: =25
                                          LayoutMinWidth: =80
                                          PaddingBottom: =5
                                          PaddingLeft: =12
                                          PaddingRight: =12
                                          PaddingTop: =5
                                          RadiusBottomLeft: =12
                                          RadiusBottomRight: =12
                                          RadiusTopLeft: =12
                                          RadiusTopRight: =12
                                        Children:
                                          - PendEval_StatusText:
                                              Control: Text@0.0.51
                                              Properties:
                                                Font: =Font.Lato
                                                FontColor: |-
                                                  =Switch(
                                                      ThisItem.'Status (cr76f_status)',
                                                      "Draft", RGBA(255, 140, 0, 1),
                                                      "Deferred", RGBA(200, 100, 0, 1),
                                                      "Submitted", RGBA(0, 120, 0, 1),
                                                      RGBA(100, 100, 100, 1)
                                                  )
                                                Size: =12
                                                Text: =ThisItem.'Status (cr76f_status)'
                                                VerticalAlign: =VerticalAlign.Middle
                                                Weight: ='TextCanvas.Weight'.Semibold
                              - PendEval_PositionText:
                                  Control: Text@0.0.51
                                  Properties:
                                    AutoHeight: =true
                                    Font: =Font.Lato
                                    FontColor: =RGBA(50, 50, 50, 1)
                                    Text: |-
                                      =If(
                                          gblLanguage = "EN",
                                          "Position: " & ThisItem.Position.'Position Title',
                                          "ตำแหน่ง: " & ThisItem.Position.'Position Title'
                                      )
                                    Width: =Parent.Width - 40
                              - PendEval_BottomRow:
                                  Control: GroupContainer@1.3.0
                                  Variant: AutoLayout
                                  Properties:
                                    DropShadow: =DropShadow.None
                                    LayoutAlignItems: =LayoutAlignItems.Center
                                    LayoutDirection: =LayoutDirection.Horizontal
                                    LayoutGap: =10
                                    LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                                    LayoutMinHeight: =30
                                    LayoutMinWidth: =100
                                    Width: =Parent.Width - 40
                                  Children:
                                    - PendEval_DateText:
                                        Control: Text@0.0.51
                                        Properties:
                                          Font: =Font.Lato
                                          FontColor: =RGBA(100, 100, 100, 1)
                                          Size: =12
                                          Text: |-
                                            =If(
                                                gblLanguage = "EN",
                                                "Assigned: " & Text(ThisItem.InterviewDate, "mmm dd, yyyy"),
                                                "กำหนดเมื่อ: " & Text(ThisItem.InterviewDate, "dd/mm/yyyy")
                                            )
                                          Width: =200
                                    - PendEval_StartButton:
                                        Control: Button@0.0.45
                                        Properties:
                                          BasePaletteColor: |-
                                            =If(
                                                ThisItem.'Status (cr76f_status)' = "Submitted",
                                                RGBA(100, 100, 100, 1),
                                                RGBA(0, 101, 161, 1)
                                            )
                                          OnSelect: |-
                                            =Set(gblSelectedEvaluation, ThisItem);
                                            Switch(
                                                ThisItem.'Status (cr76f_status)',
                                                "Pending", Navigate(scnEvaluationWelcome),
                                                "Draft", Navigate(scnEvaluationWelcome),
                                                "Deferred", Navigate(scnEvaluationSummary),
                                                "Submitted", Navigate(scnEvaluationSummary)
                                            )
                                          Text: |-
                                            =Switch(
                                                ThisItem.'Status (cr76f_status)',
                                                "Draft", If(gblLanguage = "EN", "Continue →", "ดำเนินการต่อ →"),
                                                "Deferred", If(gblLanguage = "EN", "Review Decision →", "ทบทวนการตัดสินใจ →"),
                                                "Submitted", If(gblLanguage = "EN", "View Summary →", "ดูสรุป →"),
                                                If(gblLanguage = "EN", "Start →", "เริ่ม →")
                                            )
                                          Width: =150
            - PendEval_NavigationMenu:
                Control: CanvasComponent
                ComponentName: NavigationMenu
                Properties:
                  Height: =Parent.Height - 70
                  Visible: =_showMenu
                  Width: =260
                  Y: =70
                  navItems: =Navigation
                  navSelected: =currentScreen
