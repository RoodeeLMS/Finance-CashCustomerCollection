Screens:
  scnL6Segmentation:
    Properties:
      LoadingSpinnerColor: =RGBA(56, 96, 178, 1)
      OnVisible: |-
        =UpdateContext({currentScreen:"L6 Segmentation"});
        UpdateContext({currentMode:"View"});
        Set(_showMenu,false);
        UpdateContext({ showConfirmationPopup: false });
        UpdateContext({ dataSourceIdentifier: "" });
        UpdateContext({ recordToDelete: Blank() });
        UpdateContext({ recordPrimaryProperty: "" });
        UpdateContext({currentSelectedL6Segmentation:Blank()});
    Children:
      - L6SegmentationMainContainer:
          Control: GroupContainer@1.3.0
          Variant: ManualLayout
          Properties:
            DropShadow: =DropShadow.Regular
            Height: =Parent.Height
            Width: =Parent.Width
          Children:
            - L6SegmentationContent:
                Control: GroupContainer@1.3.0
                Variant: ManualLayout
                Properties:
                  DropShadow: =DropShadow.Regular
                  Fill: =RGBA(255, 255, 255, 1)
                  Height: =Parent.Height-85
                  RadiusBottomLeft: =10
                  RadiusBottomRight: =10
                  RadiusTopLeft: =10
                  RadiusTopRight: =10
                  Width: =Parent.Width-20
                  X: =10
                  Y: =75
                Children:
                  - L6SegmentationTable:
                      Control: GroupContainer@1.3.0
                      Variant: ManualLayout
                      Properties:
                        Height: =Parent.Height
                        Visible: =currentMode="View"
                        Width: =Parent.Width
                      Children:
                        - L6SegmentationTableControl:
                            Control: GroupContainer@1.3.0
                            Variant: AutoLayout
                            Properties:
                              Height: =40
                              LayoutDirection: =LayoutDirection.Horizontal
                              LayoutGap: =10
                              LayoutJustifyContent: =LayoutJustifyContent.End
                              PaddingRight: =10
                              PaddingTop: =5
                              RadiusBottomRight: =5
                              Width: =Parent.Width
                              Y: =10
                            Children:
                              - L6SegmentationAddBtn:
                                  Control: Button@0.0.45
                                  Properties:
                                    Align: =Align.Center
                                    Appearance: ='ButtonCanvas.Appearance'.Primary
                                    BasePaletteColor: =RGBA(141, 229, 250, 1)
                                    Height: =30
                                    Icon: ="Add"
                                    OnSelect: |-
                                      =UpdateContext({currentMode:"New"});
                                      UpdateContext({currentSelectedL6Segmentation:Blank()});
                                      Reset(L6SegmentationFormL6Number);
                                      Reset(L6SegmentationFormSegmentationCode);
                                      Reset(L6SegmentationFormDescription);
                                    Text: ="Add L6 Segmentation"
                                    VerticalAlign: =VerticalAlign.Middle
                                    Width: =200
                              - L6SegmentationEditBtn:
                                  Control: Button@0.0.45
                                  Properties:
                                    BasePaletteColor: =RGBA(141, 229, 250, 1)
                                    DisplayMode: =If(IsBlankOrError(L6SegmentationTableTbl.Selected),DisplayMode.Disabled,DisplayMode.Edit)
                                    Height: =30
                                    Icon: ="Edit"
                                    OnSelect: |-
                                      =UpdateContext({currentMode:"Edit"});
                                      UpdateContext({currentSelectedL6Segmentation:L6SegmentationTableTbl.Selected});
                                    Text: ="Edit"
                                    VerticalAlign: =VerticalAlign.Middle
                                    Width: =80
                              - L6SegmentationDeleteBtn:
                                  Control: Button@0.0.45
                                  Properties:
                                    BasePaletteColor: =RGBA(255, 59, 48, 1)
                                    DisplayMode: =If(IsBlankOrError(L6SegmentationTableTbl.Selected),DisplayMode.Disabled,DisplayMode.Edit)
                                    Height: =30
                                    Icon: ="Trash"
                                    OnSelect: |-
                                      =UpdateContext({ showConfirmationPopup: true });
                                      UpdateContext({ dataSourceIdentifier: "L6Segmentation" });
                                      UpdateContext({ recordToDelete: L6SegmentationTableTbl.Selected });
                                      UpdateContext({ recordPrimaryProperty: L6SegmentationTableTbl.Selected.nc_l6number });
                                    Text: ="Delete"
                                    VerticalAlign: =VerticalAlign.Middle
                                    Width: =80
                        - L6SegmentationTableTbl:
                            Control: Table@1.0.278
                            Properties:
                              DateTimeFormat: ='PowerAppsOneGrid.DateTimeFormat'.ShortDate
                              EnableRangeSelection: ='PowerAppsOneGrid.EnableRangeSelection'.Enable
                              Height: =Parent.Height-70
                              Items: =Sort('[THFinanceCustomerData]L6Segmentations',L6Number, SortOrder.Ascending)
                              ReflowBehavior: ='PowerAppsOneGrid.ReflowBehavior'.Reflow
                              Visible: =currentMode="View"
                              Width: =Parent.Width-20
                              X: =10
                              Y: =60
                            Children:
                              - L6Number:
                                  Control: TableDataField@1.5.0
                                  Variant: textualColumn
                                  IsLocked: true
                                  Properties:
                                    FieldDisplayName: ="L6 Number"
                                    FieldName: ="nc_l6number"
                                    FieldType: ="s"
                                    Order: =1
                              - SegmentationCode:
                                  Control: TableDataField@1.5.0
                                  Variant: textualColumn
                                  IsLocked: true
                                  Properties:
                                    FieldDisplayName: ="Segmentation Code"
                                    FieldName: ="nc_segmentationcode"
                                    FieldType: ="s"
                                    Order: =2
                              - Description:
                                  Control: TableDataField@1.5.0
                                  Variant: textualColumn
                                  IsLocked: true
                                  Properties:
                                    FieldDisplayName: ="Description"
                                    FieldName: ="nc_description"
                                    FieldType: ="s"
                                    Order: =3
                  - L6SegmentationForm:
                      Control: GroupContainer@1.3.0
                      Variant: ManualLayout
                      Properties:
                        Height: =Parent.Height
                        Visible: =currentMode<>"View"
                        Width: =Parent.Width
                      Children:
                        - L6SegmentationFormContainer:
                            Control: GroupContainer@1.3.0
                            Variant: AutoLayout
                            Properties:
                              Height: =Parent.Height-50
                              LayoutDirection: =LayoutDirection.Vertical
                              LayoutOverflowX: =LayoutOverflow.Scroll
                              LayoutOverflowY: =LayoutOverflow.Scroll
                              PaddingLeft: =15
                              PaddingTop: =15
                              Width: =Parent.Width
                            Children:
                              - L6SegmentationFormSection:
                                  Control: GroupContainer@1.3.0
                                  Variant: AutoLayout
                                  Properties:
                                    Fill: =RGBA(174, 208, 221, 1)
                                    FillPortions: =0
                                    Height: =300
                                    LayoutDirection: =LayoutDirection.Vertical
                                    RadiusBottomLeft: =6
                                    RadiusBottomRight: =6
                                    RadiusTopLeft: =6
                                    RadiusTopRight: =6
                                  Children:
                                    - L6SegmentationFormTitle:
                                        Control: Text@0.0.51
                                        Properties:
                                          BorderStyle: =BorderStyle.None
                                          Font: =Font.'Lato Black'
                                          FontColor: =RGBA(15, 84, 140, 1)
                                          Height: =45
                                          PaddingBottom: =8
                                          PaddingLeft: =10
                                          PaddingTop: =8
                                          Size: =20
                                          Text: =If(currentMode="New","Add L6 Segmentation","Edit L6 Segmentation")
                                          VerticalAlign: =VerticalAlign.Middle
                                          Width: =Parent.Width
                                    - L6SegmentationFormL6Number:
                                        Control: CanvasComponent
                                        ComponentName: cmpEditableText
                                        Properties:
                                          EditMode: =currentMode <> "View"
                                          ErrorFlag: =false
                                          Height: =80
                                          LayoutMinHeight: =80
                                          LayoutMinWidth: =400
                                          MaxLength: =850
                                          TitleText: ="L6 Number"
                                          Value: =currentSelectedL6Segmentation.nc_l6number
                                          Width: =Parent.Width-20
                                          isRequired: =true
                                    - L6SegmentationFormSegmentationCode:
                                        Control: CanvasComponent
                                        ComponentName: cmpEditableText
                                        Properties:
                                          EditMode: =currentMode <> "View"
                                          ErrorFlag: =false
                                          Height: =80
                                          LayoutMinHeight: =80
                                          LayoutMinWidth: =400
                                          MaxLength: =100
                                          TitleText: ="Segmentation Code"
                                          Value: =currentSelectedL6Segmentation.nc_segmentationcode
                                          Width: =Parent.Width-20
                                          isRequired: =false
                                    - L6SegmentationFormDescription:
                                        Control: CanvasComponent
                                        ComponentName: cmpEditableText
                                        Properties:
                                          EditMode: =currentMode <> "View"
                                          ErrorFlag: =false
                                          Height: =80
                                          LayoutMinHeight: =80
                                          LayoutMinWidth: =400
                                          MaxLength: =100
                                          TitleText: ="Description"
                                          Value: =currentSelectedL6Segmentation.nc_description
                                          Width: =Parent.Width-20
                                          isRequired: =false
                        - L6SegmentationFormControl:
                            Control: GroupContainer@1.3.0
                            Variant: AutoLayout
                            Properties:
                              Height: =40
                              LayoutDirection: =LayoutDirection.Horizontal
                              LayoutGap: =10
                              LayoutJustifyContent: =LayoutJustifyContent.End
                              PaddingRight: =10
                              PaddingTop: =5
                              Width: =Parent.Width-6
                              X: =3
                              Y: =Parent.Height-Self.Height-3
                            Children:
                              - L6SegmentationFormSaveBtn:
                                  Control: Button@0.0.45
                                  Properties:
                                    Align: =Align.Center
                                    Appearance: ='ButtonCanvas.Appearance'.Primary
                                    BasePaletteColor: =RGBA(56, 178, 96, 1)
                                    Height: =30
                                    OnSelect: |-
                                      =If(currentMode = "New",
                                        Set(
                                          newL6Record,
                                          Patch(
                                            '[THFinanceCustomerData]L6Segmentations',
                                            Defaults('[THFinanceCustomerData]L6Segmentations'),
                                            {
                                              nc_l6number: L6SegmentationFormL6Number.UpdatedValue,
                                              nc_segmentationcode: L6SegmentationFormSegmentationCode.UpdatedValue,
                                              nc_description: L6SegmentationFormDescription.UpdatedValue
                                            }
                                          )
                                        ),
                                        UpdateContext({
                                          updatedL6Record: Patch(
                                            '[THFinanceCustomerData]L6Segmentations',
                                            currentSelectedL6Segmentation,
                                            {
                                              nc_l6number: L6SegmentationFormL6Number.UpdatedValue,
                                              nc_segmentationcode: L6SegmentationFormSegmentationCode.UpdatedValue,
                                              nc_description: L6SegmentationFormDescription.UpdatedValue
                                            }
                                          )
                                        })
                                      );
                                      If(
                                        IsEmpty(Errors('[THFinanceCustomerData]L6Segmentations')),
                                        Notify(
                                          "L6 Segmentation record saved successfully!",
                                          NotificationType.Success
                                        );
                                        UpdateContext({currentMode: "View"});
                                        UpdateContext({currentSelectedL6Segmentation: Blank()});
                                        Reset(L6SegmentationFormL6Number);
                                        Reset(L6SegmentationFormSegmentationCode);
                                        Reset(L6SegmentationFormDescription),
                                        Notify(
                                          "Error saving L6 Segmentation record: " & First(Errors('[THFinanceCustomerData]L6Segmentations')).Message,
                                          NotificationType.Error
                                        )
                                      )
                                    Text: ="Save"
                                    VerticalAlign: =VerticalAlign.Middle
                                    Width: =80
                              - L6SegmentationFormCancelBtn:
                                  Control: Button@0.0.45
                                  Properties:
                                    Align: =Align.Center
                                    BasePaletteColor: =RGBA(128, 128, 128, 1)
                                    Height: =30
                                    OnSelect: |-
                                      =UpdateContext({currentMode:"View"});
                                      UpdateContext({currentSelectedL6Segmentation:Blank()});
                                      Reset(L6SegmentationFormL6Number);
                                      Reset(L6SegmentationFormSegmentationCode);
                                      Reset(L6SegmentationFormDescription);
                                    Text: ="Cancel"
                                    VerticalAlign: =VerticalAlign.Middle
                                    Width: =80
            - L6SegmentationNavigationMenu:
                Control: CanvasComponent
                ComponentName: NavigationMenu
                Properties:
                  Fill: =RGBA(255, 255, 255, 0.5)
                  Height: |
                    =Parent.Height-70
                  Visible: =If(_showMenu,true,false)
                  Width: =260
                  Y: |
                    =70
                  navItems: =Navigation
                  navSelected: =currentScreen
      - L6SegmentationHeader:
          Control: GroupContainer@1.3.0
          Variant: AutoLayout
          Properties:
            DropShadow: =DropShadow.Regular
            Fill: =LookUp(Navigation, name = currentScreen, color)
            Height: =55
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutDirection: =LayoutDirection.Horizontal
            PaddingLeft: =15
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            Width: |
              =Parent.Width-20
            X: |
              =10
            Y: |
              =10
          Children:
            - L6SegmentationMenuIcon:
                Control: Classic/Icon@2.5.0
                Properties:
                  BorderColor: =RGBA(0, 18, 107, 1)
                  Color: =RGBA(255, 255, 255, 1)
                  Height: =50
                  Icon: =Icon.Hamburger
                  OnSelect: =Set(_showMenu,!_showMenu);
                  PaddingBottom: =10
                  PaddingLeft: =10
                  PaddingRight: =10
                  PaddingTop: =10
                  Width: =50
            - L6SegmentationTitle:
                Control: Text@0.0.51
                Properties:
                  AlignInContainer: =AlignInContainer.Center
                  Font: =Font.Lato
                  FontColor: =Color.White
                  Height: =50
                  PaddingLeft: |
                    =20
                  Size: =25
                  Text: =currentScreen
                  VerticalAlign: =VerticalAlign.Middle
                  Weight: ='TextCanvas.Weight'.Medium
                  Width: =240
      - L6SegmentationConfirmationPopupOverlay:
          Control: GroupContainer@1.3.0
          Variant: ManualLayout
          Properties:
            Fill: =RGBA(0, 0, 0, 0.5)
            Height: =Parent.Height
            Visible: =showConfirmationPopup
            Width: =Parent.Width
          Children:
            - L6SegmentationConfirmationPopup:
                Control: Rectangle@2.3.0
                Properties:
                  BorderColor: =RGBA(0, 18, 107, 1)
                  Fill: =RGBA(255, 255, 255, 1)
                  Height: =200
                  Width: =400
                  X: =(Parent.Width - Self.Width) / 2
                  Y: =(Parent.Height - Self.Height) / 2
            - L6SegmentationConfirmationText:
                Control: Text@0.0.51
                Properties:
                  Height: =89
                  PaddingBottom: =10
                  PaddingLeft: =10
                  PaddingRight: =10
                  PaddingTop: =10
                  Text: |-
                    ="Are you sure you want to delete '" &
                    recordPrimaryProperty &
                    "'?"
                  VerticalAlign: =VerticalAlign.Top
                  Width: =400
                  X: =L6SegmentationConfirmationPopup.X
                  Y: =L6SegmentationConfirmationPopup.Y
            - L6SegmentationConfirmationCancelBtn:
                Control: Button@0.0.45
                Properties:
                  OnSelect: |-
                    =UpdateContext({ showConfirmationPopup: false });
                    UpdateContext({ recordToDelete: Blank() });
                    UpdateContext({ recordPrimaryProperty: "" });
                    UpdateContext({ dataSourceIdentifier: "" });
                  Text: ="Cancel"
                  X: =L6SegmentationConfirmationPopup.X+L6SegmentationConfirmationPopup.Width-Self.Width-20
                  Y: =L6SegmentationConfirmationPopup.Y+L6SegmentationConfirmationPopup.Height-Self.Height-20
            - L6SegmentationConfirmationDeleteBtn:
                Control: Button@0.0.45
                Properties:
                  BasePaletteColor: =RGBA(249, 83, 109, 1)
                  OnSelect: |-
                    =Remove('[THFinanceCustomerData]L6Segmentations', recordToDelete);
                    UpdateContext({ showConfirmationPopup: false });
                    UpdateContext({ recordToDelete: Blank() });
                    UpdateContext({ recordPrimaryProperty: "" });
                    UpdateContext({ dataSourceIdentifier: "" });
                    Refresh('[THFinanceCustomerData]L6Segmentations');
                    Notify("L6 Segmentation record deleted successfully.", NotificationType.Success);
                  Text: ="Yes, Delete"
                  X: =L6SegmentationConfirmationPopup.X+20
                  Y: =L6SegmentationConfirmationPopup.Y+L6SegmentationConfirmationPopup.Height-Self.Height-20
